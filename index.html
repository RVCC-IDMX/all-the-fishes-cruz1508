<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All the Fishes</title>

    <script src="https://pixijs.download/release/pixi.js"> 
    
    
    </script>

</head>
<body>

    <script type="module"> 
    
    //The App

    const app = new PIXI.Application();
    await app.init({

        width:1920,
        height: 1080,
        backgroundColor: 0x000080
    });

    //Add view to the body
    document.body.appendChild(app.canvas);

    //Expose the app to the document
    window.app = app;

    //Load in Sprite
    await PIXI.Assets.load("img/swampgrass.png")
    await PIXI.Assets.load("img/fish gray .webp");
    await PIXI.Assets.load("img/goldfish.webp");
    await PIXI.Assets.load("img/bluefish.png")
    await PIXI.Assets.load("img/brownfish.png")
    await PIXI.Assets.load("img/transparentglass.png")
   
    

  


    
    //Adding Glass Texture

    let glass = PIXI.Sprite.from("img/transparentglass.png")
    glass.scale.set(4);
    glass.x = -550;
    glass.y = -560;
    
    //Adding Fish 1 (Gray Fish)
    let fish1 = PIXI.Sprite.from('img/fish gray .webp')
        fish1.scale.set(1.1);
        fish1.anchor.set(.5);
        fish1.anchor.x = .8;
        fish1.anchor.y = .5;
        //fish1.tint = 0xFFF00
        fish1.x = 1000;
        fish1.y = 300;

    //Add Fish 2 (Goldfish)

    let fish2 = PIXI.Sprite.from('img/goldfish.webp')
        fish2.scale.set(.4);
        fish2.anchor.set(.5);
        fish2.x = 100;
        fish2.y = 150;

    //Adding Fish 3 (Blue Fish)

    let fish3 = PIXI.Sprite.from('img/bluefish.png')
        fish3.scale.set(.25);
        fish3.anchor.set(.5);
        fish3.x = 1000;
        fish3.y = 10;


    //Adding Fish 4 (Brown Fish)

    let fish4 = PIXI.Sprite.from("img/brownfish.png")
        fish4.scale.set(.25);
        fish4.anchor.set(.5);
        fish4.x = 500;
        fish4.y = 50;


    //Adding Grass
    let grass = PIXI.Sprite.from("img/swampgrass.png")
    grass.scale.set(1.9);
    grass.tint = 0xFFF00
    grass.x = 0;
    grass.y = 450;


    //Add it to the stage
   
    // app.stage.addChild(fish1); 
    //app.stage.addChild(fish2); 
    app.stage.addChild(grass)
    app.stage.addChild(fish3)
    app.stage.addChild(fish4)
    app.stage.addChild(glass)
    
 
    



    //Fish Container

    let fishContainer = new PIXI.Container();
        fishContainer.addChild(fish1);
        fishContainer.addChild(fish2);
        //fishContainer.addChild(fish3);
        fishContainer.x = 100;

        //Add it to the stage (With Container)

        app.stage.addChild(fishContainer);

        //Counter
        let counter = 0;

        //Animation Loop!
        function loop() {

            counter++;

            //Fish 1 Animation
            fish1.y = (Math.sin(counter/50) * 20) + 800;
            fish1.scale.x = (Math.sin(counter/3)) * -.01 + -1
            fish1.angle = (Math.sin(counter/40) * 10);

            //Fish 2 Animation
            fish2.y = (Math.sin(counter/50) * 40) + 200;

            //Fish 3 Animation
            fish3.y = (Math.sin(counter/50) * 30) + 250;
            fish3.scale.x = (Math.sin(counter/100)) * -.1 + -.40
            fish3.angle = (Math.sin(counter/40) * 1);

            //Fish 4 Animation

            fish4.y = (Math.sin(counter/90) * 20) + 600;
            fish4.scale.x = (Math.sin(counter/100)) * -.01 + -.25
            fish4.angle = (Math.sin(counter/200) * 2);

            

            

            requestAnimationFrame(loop);

        }
        loop();

    


    </script>
    
</body>
</html>